<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        body{
            height: 90vh;
            width: 90vw;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
          

        }
    </style>
</head>
<body >
    <button type="button" style="background-color: white; border: none; position:relative; left:-100px;"  >Clear YOUR Cart </button>

    <div style="border: 4px solid black; border-radius: 3px; width: 40vw; height: 80vh;box-shadow: rgba(0, 0, 0, 0.56) 0px 22px 70px 4px; z-index: 1    ; ">
        <h1>Cart</h1>
         <div id="container" style="position: relative;margin-top: 10px;"></div>
         
         
        <h2 style="position: relative; bottom: -420px; left:400px">Total</h2>
        <h4 id="total" style="position: relative; bottom: -395px; left:550px" > </h4>
        <button  id="pay" style="position: relative; bottom: -420px; left:500px;border: none; background-color: whitesmoke; width: 90px; height: 40px;" type="button">Pay Now</button>
    </div>
    <script>
          
           document.querySelector("button").addEventListener("click",(event)=>{
                console.log(1);
                localStorage.clear()
                location.reload()
           })
            document.getElementById("pay").addEventListener("click",()=>{
                location.href= `http://localhost:3000/payment?amount=${Number(document.getElementById("total").innerText)}`
           })
            
           
        
           
         
            let sum=0;
            for(let i = 0 ; i<localStorage.length;i++){
                update(localStorage.key(i), localStorage.getItem(localStorage.key(i)))
            }
          
            function update(x,y){
                console.log(x)
                let product_box = document.createElement("div")
                product_box.style.display="flex"
                product_box.style.gap="10px"
                let productname = document.createElement("h3")
                productname.textContent=x;
                console.log(productname,x)
                let product_price=document.createElement("h5")
                product_price.innerText=y;
                product_price.style.position="absolute"
                product_price.style.right="5px"
                product_box.appendChild(productname)
                product_box.appendChild(product_price)
                document.getElementById("container").appendChild(product_box)
                sum=Number(sum)+Number(y);
               document.getElementById("total").innerText=sum;
                
            }
            
    </script>
</body>
</html>